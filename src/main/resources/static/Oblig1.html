<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Billetter</title>
    <script type="application/javascript">
        const billettArray = [];

        function filmer() {
            let valgtFilm = document.getElementById('velg-billett').value;
            let antallBilletter = document.getElementById('mytext').value;
            let fornavn = document.getElementById('fornavn').value;
            let etternavn = document.getElementById('etternavn').value;
            let epost = document.getElementById('e-post').value;
            let telefonnummer = document.getElementById('tlfnummer').value;

            if (valgtFilm == "") {
                alert("Velg en film");
                return;
            }
            if (fornavn == "") {
                alert("Skriv inn gyldig fornavn");
                return;
            }
            if (etternavn == "") {
                alert("Skriv inn gyldig etternavn");
                return;
            }
            if (telefonnummer == "") {
                alert("Skriv inn gyldig telefonnummer");
                return;
            }
            if (epost == "") {
                alert("Skriv inn gyldig e-post");
                return;
            }

            const nyBillett = {
                film: valgtFilm,
                antall: antallBilletter,
                fornavn: fornavn,
                etternavn: etternavn,
                epost: epost,
                telefonnummer: telefonnummer
            };

            billettArray.push(nyBillett);

            // Tøm inputfeltene
            document.getElementById('velg-billett').value = "";
            document.getElementById('mytext').value = "";
            document.getElementById('fornavn').value = "";
            document.getElementById('etternavn').value = "";
            document.getElementById('e-post').value = "";
            document.getElementById('tlfnummer').value = "";

            oppdaterBillettListe();
        }

        // Funksjon for å oppdatere billett-listen
        function oppdaterBillettListe() {
            let billettListe = document.getElementById("billett-liste");
            billettListe.innerHTML = "";

            for (let billett of billettArray) {
                let rad = "<tr><td>" + billett.film + "</td><td>" + billett.fornavn + "</td><td>" + billett.etternavn + "</td><td>" + billett.telefonnummer + "</td><td>" + billett.epost + "</td><td>" + billett.antall + "</td></tr>";
                billettListe.innerHTML += rad;
            }
        }

        // Funksjon for å slette alle billetter
        function slettAlleBilletter() {
            billettArray.length = 0; // Tøm arrayet
            oppdaterBillettListe(); // Oppdater billett-listen
        }
    </script>
</head>
<body>

<h1>
    Bestilling av kinobilletter
</h1>

<label for="antall-billetter">Antall billetter</label>
<input type="text" id="mytext" name="antall-billetter" style="width: 50px">
<br>
<br>

<label for="velg-billett">Velg film:</label>
<select name="billett" id="velg-billett">
    <option value="">--Please choose an option--</option>
    <option value="Reservoir dogs">Reservoir dogs</option>
    <option value="Shawshank Redemption">Shawshank Redemption</option>
    <option value="Inception">Inception</option>
    <option value="Avengers-Endgame">Avengers Endgame</option>
    <option value="Interstellar">Interstellar</option>
    <option value="A-Man-Called-Otto">A Man Called Otto</option>
</select>
<br>
<br>

<label for="fornavn">Fornavn:</label>
<input type="text" id="fornavn" name="fornavn" required minlength="4" maxlength="8" size="10" />
<br>

<label for="etternavn">Etternavn</label>
<input type="text" id="etternavn" name="etternavn" required minlength="4" maxlength="8" size="10" />
<br>

<label for="tlfnummer">Telefonnummer:</label>
<input type="text" id="tlfnummer" name="tlfnummer" required minlength="4" maxlength="10" size="14" />
<br>

<label for="e-post">E-post:</label>
<input type="text" id="e-post" name="e-post" required minlength="8" maxlength="30" size="30" />
<br>
<br>

<button onclick="filmer()" class="kjop" type="button">Kjøp billetter</button>
<br>
<br>

<h2>Alle billetter</h2>
<table id="billett-liste">
    <tr>
        <th>Film</th>
        <th>Antall</th>
        <th>Navn</th>
        <th>Etternavn</th>
        <th>Telefonnummer</th>
        <th>E-post</th>

    </tr>
</table>

<button onclick="slettAlleBilletter()" class="slett" type="button">Slett alle billettene</button>

</body>
</html>